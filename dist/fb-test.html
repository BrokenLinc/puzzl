<html>
	<head>
		<script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
	</head>
	<body>

		<!-- <h1 id='xpos'>...</h1> -->

		<div id="square" style="position:absolute;background:red;">

		<script>
		var messagesRef = new Firebase('https://puzzl.firebaseio.com/');
		var xpos = $('#xpos');
		var sq = $('#square');

		messagesRef.child("pos").on("value", function(snapshot) {
			//xpos.text(snapshot.val());
			sq.css({
				width: snapshot.val().x,
				height: snapshot.val().y
			});
		});

		var mpos = {};
		$(document).on('mousemove', function(e){
			mpos = {x:e.pageX, y:e.pageY};
		});

		//cycling
		function gameLoop() {
			if(mpos.x && mpos.y) {
				messagesRef.child("pos").set(mpos);
			}
			setTimeout(gameLoop, 33);
		}
		gameLoop();

		</script>
	</body>
</html>